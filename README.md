# ë°˜ë ¤ë™ë¬¼ ì•± "ë¶€íƒí•´, ì§‘ì‚¬ !" ğŸ• ğŸˆ
## 1.ì†Œê°œ
### 1-1 ê°œë°œë°°ê²½
ê°„ì‹ìœ¼ë¡œ ì¸í•œ ë¹„ë§Œ ë˜ëŠ” ì‚°ì±…ì„ ì•ˆí•¨ìœ¼ë¡œì¨ ìƒê¸°ëŠ” ë°°ë³€ ì¥ì• ëŠ” ë°˜ë ¤ë™ë¬¼ì—ê²Œ í”íˆ ë‚˜íƒ€ë‚˜ëŠ” ê±´ê°•ë¬¸ì œì´ë‹¤. ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œëŠ” ê°€ì¡±ì˜ ì˜ì‚¬ì†Œí†µê³¼ ë¬´í•œí•œ ê´€ì‹¬ì´ ì¤‘ìš”í•˜ë‹¤. ê·¸ëŸ¬ë‚˜, ë°˜ë ¤ë™ë¬¼ì„ í‚¤ìš°ëŠ” ì…ì¥ì—ì„œ í˜¼ìê°€ ì•„ë‹Œ ê°€ì¡± êµ¬ì„±ì›ê³¼ í•¨ê»˜ ê´€ì‹¬ì„ ê°€ì§€ê³  ëª¨ë‘ê°€ ì¼€ì–´í•´ì•¼ í•œë‹¤ê³  ìƒê°í•œë‹¤. ì´ëŸ¬í•œ ë¬¸ì œì ì„ í† ëŒ€ë¡œ ê¸°ì¡´ ì–´í”Œì„ ì¡°ì‚¬í•´ë³´ë‹ˆ ë°˜ë ¤ë™ë¬¼ì— ëŒ€í•œ ì–´í”Œ ì¤‘ ì•„ì§ê¹Œì§€ ê°€ì¡±ë“¤ê³¼ í•¨ê»˜ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì•±ì´ ì¡´ì¬í•˜ì§€ ì•Šì€ ê²ƒì„ í™•ì¸í•˜ì˜€ë‹¤. ê·¸ í›„ ë°˜ë ¤ë™ë¬¼ì— ê´€í•œ ì•±ì„ ê°œë°œí•¨ìœ¼ë¡œì¨ ë§ì€ ì§‘ì‚¬ë“¤ì—ê²Œ í™œìš©ì ì´ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì•±ì´ ë  ê²ƒ ê°™ì•„ ì£¼ì œë¥¼ ì„ ì •í•˜ì˜€ë‹¤.
***
### 1-2 ì‚¬ìš©í•œ ê¸°ëŠ¥
ë¶€íƒí•´ ì§‘ì‚¬! ì„œë¹„ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ëª¨ë“  ê°€ì¡± êµ¬ì„±ì›ë¼ë¦¬ ë°˜ë ¤ë™ë¬¼ì„ ì¼€ì–´ í•  ìˆ˜ ìˆê²Œ ê°€ì¡±ì—°ë™ì„ í†µí•˜ì—¬ ë°˜ë ¤ë™ë¬¼ë“¤ì˜ ë°¥, ê°„ì‹, ê±´ê°•, ì‚°ì±… ë“±ì˜ ì •ë³´ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê³µìœ í•  ìˆ˜ ìˆë‹¤. ë˜í•œ googleë§µê³¼ ì—°ë™ì„ í†µí•˜ì—¬ ë‚´ ì£¼ë³€ì— ê³µì› ìœ„ì¹˜ì™€ ë³‘ì› ìœ„ì¹˜ë¥¼ ì•Œ ìˆ˜ ìˆê²Œ í•¨ìœ¼ë¡œì„œ ëª¨ë“  ì§‘ì‚¬ë“¤ì´ ì±…ì„ê°ì„ ê°€ì§€ê³  ë°˜ë ¤ë™ë¬¼ì„ í¸ë¦¬í•˜ê²Œ ì„œë¹„ìŠ¤ë¥¼ ì œê³µ í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ êµ¬ì„±í•˜ì˜€ë‹¤.
Firebaseì„ Android Studioì™€ ì—°ê²°í•˜ì—¬ í…Œì´í„° ì €ì¥ì„ í†µí•˜ì—¬ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•˜ê³  , ë“±Google API ì—°ë™ì„ í†µí•´ ì‹¤ì‹œê°„ ìœ„ì¹˜ì™€ Place APIì„ ì´ìš©í•˜ì—¬ ê³µì› ìœ„ì¹˜ì™€ ë³‘ì› ìœ„ì¹˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡ í•œë‹¤.
***
### 1-3 ê¸°ì¡´ ì–´í”Œê³¼ì˜ ì°¨ì´

***
### 1-4 ê¸°ëŒ€íš¨ê³¼
ë§ì€ ê°€êµ¬ì—ì„œ ë°˜ë ¤ë™ë¬¼ì„ í‚¤ìš°ê³  ìˆì–´ ë°˜ë ¤ë™ë¬¼ ê´€ë¦¬ì— ë§ì€ ê´€ì‹¬ì´ ìŸì•„ì§€ê³  ìˆëŠ” ìš”ì¦˜, ë‹¤ì–‘í•˜ê²Œ ë°˜ë ¤ë™ë¬¼ì— ëŒ€í•œ ìš©í’ˆì´ë‚˜ ê·¸ë°–ì˜ ì—¬ëŸ¬ê°€ì§€ ê´€ë¦¬ë¥¼ ìœ„í•œê²ƒë“¤ì´ ë‚˜íƒ€ë‚˜ê³  ìˆë‹¤. ì´ì— ê±¸ë§ê²Œ ë§ì€ ê°€êµ¬ì—ì„œ ìœ ìš©í•˜ê²Œ ì“°ì—¬ì§ˆ ìˆ˜ ìˆëŠ” ë°˜ë ¤ë™ë¬¼ ê´€ë¦¬ ì–´í”Œì„ ë§Œë“¬ìœ¼ë¡œì¨ ì§ì ‘ì ìœ¼ë¡œ ì†Œí†µì„ í•˜ì§€ ì•Šê³ ë„ ì •ë³´ ì…ë ¥ì„ í†µí•´ ì„œë¡œ ë‚´ìš©ë“¤ì„ ê³µìœ í•˜ê³  ë²ˆê±°ë¡œì›€ì„ ì¤„ì¼ ìˆ˜ ìˆìœ¼ë©° ê²€ìƒ‰ì„ í•˜ì§€ ì•Šê³ ë„ ì£¼ë³€ ë³‘ì› ë˜í•œ ì°¾ì•„ë³¼ ìˆ˜ ìˆì–´  ê°€ì¡± êµ¬ì„±ì›ì´ ì¢€ ë” íš¨ìœ¨ì ìœ¼ë¡œ ë™ë¬¼ë“¤ì„ ë³´ì‚´í•„ìˆ˜ ìˆì„ê²ƒì´ë‹¤. ê·¸ë¿ë§Œì•„ë‹ˆë¼ ê°€ì¡±êµ¬ì„±ì›ì´ ê°ì ì‚¬ì§„ì„ ì˜¬ë¦¬ê³  ê¸€ì„ ì‘ì„±í•˜ë©´ì„œ ê°€ì¡±ê°„ì˜ ì†Œí†µì˜ ê¸°íšŒ ë˜í•œ ëŠ˜ì–´ë‚˜ê²Œ í•´ì¤„ê²ƒì´ë¼ ê¸°ëŒ€í•œë‹¤.
***
## 2. ê¸°ëŠ¥ êµ¬í˜„
### 2-1 ì‚¬ìš©ì ìƒì„±
#### 2-1-1 Firebaseì™€ Android Studio ì—°ë™
 íšŒì›ê°€ì…ê³¼ ë¡œê·¸ì¸ ë° ê±´ê°•,ì‚°ì±…,ë‹¤ì´ì–´ë¦¬,ê°€ì¡±ì—°ë™ ì„ ìœ„í•´ ë°ì´í„°ë¥¼ ì €ì¥í•´ ë†“ì„ Firebaseê°€ í•„ìš”í•˜ë‹¤.
 
[ì—°ë™ ë°©ë²•] 
1. íŒŒì´ì–´ ë² ì´ìŠ¤ì— í”„ë¡œì íŠ¸ ìƒì„±
2. google-service.jsoníŒŒì¼ì–»ê¸°
3. .jsoníŒŒì¼ì„ ì•ˆë“œë¡œì´ë“œìŠ¤íŠœë””ì˜¤ í”„ë¡œì íŠ¸ ì•ˆì— ì‚½ì… 
4. Firebase SDKì¶”ê°€
5. ì•ˆë“œë¡œì´ë“œì™€ íŒŒì´ì–´ë² ì´ìŠ¤ ì—°ê²° í™•ì¸

[ì—°ë™ë°©ë²•- realtime database]
1. TOOLì—ë“¤ì–´ê°„í›„, íŒŒì´ì–´ë² ì´ìŠ¤ í´ë¦­
2. realtime databaseë¥¼ ì°¾ì€ í›„ í´ë¦­
3. Connect firebaseë¥¼ í•˜ì—¬ ìƒì„±í•œ íŒŒì´ì–´ë² ì´ìŠ¤ì™€ ì—°ë™
4. add to realtime database to your app ì„ í´ë¦­í•˜ì—¬ ìë™ìœ¼ë¡œ build.gradleì— ì½”ë“œê°€ ì¶”ê°€ë˜ê²Œ ë§Œë“¤ì–´ì¤Œ
***
#### 2-1-2 íšŒì›ê°€ì…
ì´ë©”ì¼ë¡œ íšŒì›ê°€ì…ì„ ì§„í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ë‹¤. ì‚¬ìš©ìì˜ ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ì €ì¥í•˜ì—¬, íŒŒì´ì–´ë² ì´ìŠ¤ì— ì •ë³´ê°€ ì˜¬ë¼ê°ˆ ìˆ˜ ìˆê³ ë„ë¡ ë§Œë“¤ì—ˆë‹¤.   
Register.java ìƒì„±

    public class Register extends AppCompatActivity {
    private FirebaseAuth mFirebaseAuth;
    private DatabaseReference mDatabaseRef;
    private EditText mEtEmail,mEtpwd;
    private Button mBtnRegister;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.register);

        mFirebaseAuth = FirebaseAuth.getInstance();
        mDatabaseRef = FirebaseDatabase.getInstance().getReference("Family login"); //íŒŒì´ì–´ë² ì´ìŠ¤ì— íšŒì›ê°€ì… ì •ë³´ ì €ì¥

        mEtEmail = findViewById(R.id.et_email);
        mEtpwd = findViewById(R.id.et_pwd);
        mBtnRegister = findViewById(R.id.btn_register);

        mBtnRegister.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                //íšŒì›ê°€ì… ì²˜ë¦¬ì‹œì‘
                String strEmail = mEtEmail.getText().toString();
                String strPwd = mEtpwd.getText().toString();

                //íŒŒì´ì–´ë² ì´ì¦ˆ ì–´ìŠ¤ ì§„í–‰
                mFirebaseAuth.createUserWithEmailAndPassword(strEmail,strPwd).addOnCompleteListener(
                        Register.this, new OnCompleteListener<AuthResult>() {
                    @Override
                    public void onComplete(@NonNull Task<AuthResult> task)
                    {
                        if(task.isSuccessful()){
                            FirebaseUser firebaseUser = mFirebaseAuth.getCurrentUser();
                            UserAccount account = new UserAccount();
                            account.setIdToken(firebaseUser.getUid());
                            account.setEmailId(firebaseUser.getEmail());
                            account.setPassword(strPwd);

                            mDatabaseRef.child("UserAccount").child(firebaseUser.getUid()).setValue(account);

                            Toast.makeText(Register.this,"íšŒì›ê°€ì…ì— ì„±ê³µí•˜ì…¨ìŠµë‹ˆë‹¤.",Toast.LENGTH_SHORT).show();
                            Intent intent = new Intent(Register.this,Login.class); //íšŒì›ê°€ì… ì„±ê³µì‹œ ë¡œê·¸ì¸ í™”ë©´ ì „í™˜ 
                            startActivity(intent);
                        }
                        else{
                            Toast.makeText(Register.this,"íšŒì›ê°€ì…ì— ì‹¤íŒ¨í•˜ì…¨ìŠµë‹ˆë‹¤.",Toast.LENGTH_SHORT).show();
                            //íšŒì›ê°€ì… ì‹¤íŒ¨ì‹œ í† ìŠ¤íŠ¸ ë©”ì‹œì§€ ì¶œë ¥
                        }
                    }
                });
            }
        });
    }
    }

 UserAccount.java - íšŒì›ê°€ì… ì •ë³´ì„ ì €ì¥í•´ë‘˜ class ìƒì„±
  
    public class UserAccount{
    private String idToken; // Firebase Uid( ê³ ìœ í† í°ì •ë³´)
    private String emailId;
    private String password;
    public UserAccount() {    }

    public String getIdToken() {
        return idToken;
    }

    public void setIdToken(String idToken) {
        this.idToken = idToken;
    }

    public String getEmailId() {
        return emailId;
    }

    public void setEmailId(String emailId) {
        this.emailId = emailId;
    }

    public String getPassword() {
        return password;
    }

    public void setPassword(String password) {
        this.password = password;
    }
    }
![image](https://user-images.githubusercontent.com/51051548/121134546-79c76300-c86e-11eb-8771-622d1352e113.png)
***
#### 2-1-3 ë¡œê·¸ì¸
 íšŒì›ê°€ì…ì„ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´ ë¡œê·¸ì¸ì„ í•  ìˆ˜ ìˆë‹¤. íŒŒì´ì–´ë² ì´ìŠ¤ì— ìˆëŠ” ì •ë³´ì™€ ì…ë ¥ëœ ì •ë³´ë¥¼ ë¹„êµí•˜ì—¬ ë“±ë¡ë˜ì–´ìˆë‹¤ë©´ ë¡œê·¸ì¸ ì„±ê³µ ë©”ì‹œì§€ê°€ ëœ¨ê³  ë©”ì¸í™”ë©´ìœ¼ë¡œë“¤ì–´ê°„ë‹¤. ì•„ì´ë””ë‚˜ ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•Šê±°ë‚˜ ë“±ë¡ë˜ì§€ ì•Šì€ ì•„ì´ë””ë¼ë©´ ë¡œê·¸ì¸ ì‹¤íŒ¨ ë©”ì‹œì§€ê°€ ëœ¨ë©´ì„œ í™”ë©´ì´ ë„˜ì–´ê°€ì§€ ì•ŠëŠ”ë‹¤.   
 Login.java

    public class Login extends AppCompatActivity{
    private FirebaseAuth mFirebaseAuth; //íŒŒì´ì–´ ë² ì´ìŠ¤ ì¸ì¦
    private DatabaseReference mDatabaseRef; //ì‹¤ì‹œê°„ ë°ì´í„° ë² ì´ìŠ¤
    private EditText mEtEmail,mEtpwd;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.login);

        mFirebaseAuth = FirebaseAuth.getInstance();
        mDatabaseRef = FirebaseDatabase.getInstance().getReference("Family login");

        mEtEmail = findViewById(R.id.et_email);
        mEtpwd = findViewById(R.id.et_pwd);

        Button btn_login = findViewById(R.id.btn_login);
        btn_login.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                //ë¡œê·¸ì¸ìš”ì²­
                String strEmail = mEtEmail.getText().toString();
                String strPwd = mEtpwd.getText().toString();
                //íŒŒì´ì–´ë² ì´ìŠ¤ ë“±ë¡ëœ ì•„ì´ë”” & ë¹„ë°€ë²ˆí˜¸ í™•ì¸
                mFirebaseAuth.signInWithEmailAndPassword(strEmail,strPwd).addOnCompleteListener(Login.this, new OnCompleteListener<AuthResult>() {
                    @Override
                    public void onComplete(@NonNull Task<AuthResult> task) {
                        if(task.isSuccessful()){
                            //ë¡œê·¸ì¸ ì„±ê³µ
                            Intent intent = new Intent(Login.this,Family_Register.class);
                            startActivity(intent);
                            finish(); //í˜„ ì—‘í‹°ë¹„í‹° íŒŒê´´
                        }else{
                            Toast.makeText(Login.this,"ë¡œê·¸ì¸ ì‹¤íŒ¨",Toast.LENGTH_SHORT).show();
                        }
                    }
                });
            }
        });

        Button btn_register = findViewById(R.id.btn_register);
        btn_register.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                //íšŒì›ê°€ì…í™”ë©´ìœ¼ë¡œ ì´ë™
                Intent intent = new Intent(Login.this,Register.class);
                startActivity(intent);
            }
        });
    }
    }
    
![image](https://user-images.githubusercontent.com/51051548/121136481-abd9c480-c870-11eb-9ae8-8f7c9949f719.png)
***
## 2-2 ê°€ì¡± ì—°ë™
### 2-2-1 ê°€ì¡± êµ¬ì„±ì› í”„ë¡œí•„ ì…ë ¥ ë° ì¶œë ¥
í•œ ì•„ì´ë””ë¥¼ í†µí•´ ê°€ì¡±ë“¤ì´ ë¡œê·¸ì¸ì„ í•˜ê³  ê°€ì¡± êµ¬ì„±ì›ì„ ë“±ë¡í•œë‹¤. ê°€ì¡± êµ¬ì„±ì›ì— ë“±ë¡ë˜ë©´ ìŠ¤í”¼ë„ˆì— ì—°ê²°ë˜ì–´ ë°¥ , ì‚°ì±…, ê°„ì‹ íŒì—…ì°½ì—ì„œ ë“±ë¡ëœ ê°€ì¡±ë“¤ì„ ì„ íƒí•˜ì—¬ ì •ë³´ë¥¼ ì €ì¥ í•  ìˆ˜ ìˆë‹¤.
ë“±ë¡ì´ ë˜ë©´ ê°€ì¡± êµ¬ì„±ì› í”„ë¡œí•„ ë¦¬ìŠ¤íŠ¸ë¡œ ì¶œë ¥ëœë‹¤.   
Family_Register.java - ê°€ì¡± í”„ë¡œí•„ ë“±ë¡

    public class Family_Register extends AppCompatActivity  {

    TextView tv;
    EditText Name;
    EditText age;
    EditText NickName;
    Button btn_pet, btn_pet2;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.family__register);

        tv = findViewById(R.id.tv);
        Name = findViewById(R.id.Name);
        age = findViewById(R.id.age);
        NickName = findViewById(R.id.NickName);
        btn_pet = findViewById(R.id.btn_pet);
        btn_pet2 = findViewById(R.id.btn_pet2);

        btn_pet.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent intent = new Intent(getApplicationContext(), Pet_Register.class);
                startActivity(intent);
            }
        });

        btn_pet2.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {
                Intent intent = new Intent(getApplicationContext(), Pet_Main.class);
                startActivity(intent);
            }
        });
    }


        public void clickSave (View v) {


            FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
            DatabaseReference rootRef = firebaseDatabase.getReference("Family Pet");

            String name = Name.getText().toString();
            String Age = age.getText().toString();
            String Nickname = NickName.getText().toString();

            Person person = new Person(name, Age, Nickname);

            DatabaseReference personRef = rootRef.child("persons");
            personRef.push().setValue(person);

            personRef.addValueEventListener(new ValueEventListener() {
                @Override
                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {

                    StringBuffer buffer = new StringBuffer();

                    for (DataSnapshot snapshot : dataSnapshot.getChildren()) {

                        Person person = snapshot.getValue(Person.class);
                        String name = person.getName();
                        String Age = person.getAge();
                        String Nickname = person.getNickName();

                        buffer.append("ì´ë¦„ : " + name + "\n" + "ë‚˜ì´ : " + Age + "\n" + "ë³„ëª… : " + Nickname + "\n\n");
                    }
                    tv.setText(buffer);
                }

                @Override
                public void onCancelled(@NonNull DatabaseError databaseError) {

                }
            });

        }

    }
    
Person.java - ê°€ì¡± ì •ë³´ë¥¼ ì €ì¥í•  class ìƒì„±

    public class Person {

    String name;
    String age;
    String NickName;

    public Person(String name, String Age, String Nickname) {
        this.name = name;
        this.age = Age;
        this.NickName = Nickname;
    }

    public Person(){}


    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }


    public String getAge() {
        return age;
    }

    public void setAge(String Age) {
        this.age = Age;
    }


    public  String getNickName() {
        return NickName;
    }

    public  void setNickName(String Nickname) {
        this.NickName = Nickname;
    }
    }
***
### 2-2-2 ê°€ì¡± ì—°ë™
ê°€ì¡± êµ¬ì„±ì›ì„ ë“±ë¡í•˜ë©´ ë°¥, ê°„ì‹, ì‚°ì±…ì— ê°€ì¡±ë“¤ì„ ìŠ¤í”¼ë„ˆë¡œ ì—°ê²°í•˜ì—¬ ê°€ì¡± ì—°ë™ì„ êµ¬í˜„í•˜ì˜€ë‹¤.   
Pet_Database.java

    public class Pet_Database { //ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ê°€ì¡± ì´ë¦„ ì—°ê²°
    public static void getPersons(OnSuccessListener<DataSnapshot> onSuccessListener) {
        FirebaseDatabase firebaseDatabase = FirebaseDatabase.getInstance();
        DatabaseReference rootRef = firebaseDatabase.getReference("Family Pet");
        DatabaseReference personRef = rootRef.child("persons");

        personRef.get().addOnSuccessListener(onSuccessListener);
    }
    }
 
Register_Food.java,  Register_Run.java, Register_Snack.java íŒŒì¼ì— ë„£ì–´ì¤€ë‹¤.

    private void setNameSpinner(Spinner nameSpinner) { //íŒŒì´ì–´ë² ì´ìŠ¤ì— ì €ì¥ëœ ê°€ì¡±ì´ë¦„ì´ ìˆë‹¤ë©´ ë¶ˆëŸ¬ì˜´.
        Pet_Database.getPersons(dataSnapshot -> {
            List<String> persons = new ArrayList<>();
            for (DataSnapshot snapshot : dataSnapshot.getChildren()) {
                Person person = snapshot.getValue(Person.class);
                if (person != null) {
                    persons.add(person.name);
                }
            }

            final ArrayAdapter<String> spinnerArrayAdapter = new ArrayAdapter<>( // ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë¥¼ ìŠ¤í”¼ë„ˆ ê°’ì— ë„£ì–´ì¤Œ.
                    this, android.R.layout.simple_spinner_dropdown_item, persons);
            spinnerArrayAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);
            nameSpinner.setAdapter(spinnerArrayAdapter);
        });
    }
    
    setNameSpinner(Person); //ìŠ¤í”¼ë„ˆì— ì €ì¥ëœ ìŠ¤í”¼ë„ˆê°’ ì—°ê²°
![image](https://user-images.githubusercontent.com/51051548/121141133-99ae5500-c875-11eb-9157-f4f53856a070.png)
## 2-3 ë™ë¬¼ ë“±ë¡ 
### 2-3-1 ë™ë¬¼ ì‚¬ì§„ ë“±ë¡ ë° ë©”ì¸ í™”ë©´ì— ë¶ˆëŸ¬ì˜¤ê¸°
ë™ë¬¼ì˜ ì‚¬ì§„ì„ ê°¤ëŸ¬ë¦¬ë¥¼ í†µí•´ ì§ì ‘ ê°€ì ¸ì˜¤ê±°ë‚˜ ì‚¬ì§„ ì´¬ì˜ì„ í†µí•´ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.
ê·¸ë°–ì˜ ì„±ë³„ê³¼ ì´ë¦„, í’ˆì¢…, ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì—¬ ë“±ë¡ì„ ì™„ì„±í•œë‹¤. ì €ì¥ì´ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´ ë“±ë¡ëœ ì‚¬ì§„ì´ ë©”ì¸í™”ë©´ì— ì¶œë ¥ëœë‹¤.   
Pet_Register.java 

    public class Pet_Register extends AppCompatActivity {
    private Button btnCamera, btnGallery, btnSave;
    private ImageView animalImg;
    private ProgressBar progressBar;
    private EditText Name , Kind,birthday;

    final  int CAMERA_REQUEST_CODE = 1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        setContentView(R.layout.pet__register);
        Name = findViewById(R.id.editTextTextPersonName);
        Kind = findViewById(R.id.editTextTextPersonName5);
        birthday = findViewById(R.id.editTextTextPersonName2);


        btnCamera = (Button)findViewById(R.id.btnCamera);
        btnGallery = (Button)findViewById(R.id.btnGallery);
        animalImg = (ImageView)findViewById(R.id.Animal_img);
        progressBar = (ProgressBar) findViewById(R.id.progress_bar);
        btnSave = (Button) findViewById(R.id.btn_save);
        btnCamera.setOnClickListener(new View.OnClickListener(){
            // ì¹´ë©”ë¼ ì—°ê²°
            @Override
            public void onClick(View v) {
                if(IsCameraAvailable()){
                    Intent intent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);

                    startActivityForResult(intent, CAMERA_REQUEST_CODE);
                }
            }
        });

        btnGallery.setOnClickListener(new View.OnClickListener() {
            //ê°¤ëŸ¬ë¦¬ ì—°ê²°
            @Override
            public void onClick(View view) {
                Intent intent = new Intent();
                intent.setType("image/*");
                intent.setAction(Intent.ACTION_GET_CONTENT);
                startActivityForResult(intent, 2);
            }
        });

        btnSave.setOnClickListener(view -> {
            //íŒŒì´ì–´ë² ì´ìŠ¤ì— ë™ë¬¼ ì •ë³´ ì €ì¥
            FirebaseDatabase firebaseDatabase= FirebaseDatabase.getInstance();
            DatabaseReference rootRef= firebaseDatabase.getReference("Family Pet");
            String name = Name.getText().toString();
            String kind = Kind.getText().toString();
            String Birthday = birthday.getText().toString();

            Pet pet = new Pet(name, kind,Birthday);

            DatabaseReference PetRef = rootRef.child("pet");
            PetRef.push().setValue(pet);

            BitmapDrawable bitmapDrawable = (BitmapDrawable) animalImg.getDrawable();
            if (bitmapDrawable == null) {
                return;
            }

            Bitmap bitmap = bitmapDrawable.getBitmap();
            ByteArrayOutputStream bos = new ByteArrayOutputStream();
            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bos) ;
            uploadImage(bos.toByteArray());

        });
    }
    
    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        if (requestCode == CAMERA_REQUEST_CODE) {
            Bundle bundle = data.getExtras();
            Bitmap bitmap = (Bitmap) bundle.get("data");
            animalImg.setImageBitmap(bitmap);
        } else if (requestCode == 2) {
            // Make sure the request was successful
            if (resultCode == RESULT_OK) {
                try {
                    // ì„ íƒí•œ ì´ë¯¸ì§€ì—ì„œ ë¹„íŠ¸ë§µ ìƒì„±
                    InputStream in = getContentResolver().openInputStream(data.getData());
                    Bitmap img = BitmapFactory.decodeStream(in);
                    in.close();
                    // ì´ë¯¸ì§€ í‘œì‹œ
                    animalImg.setImageBitmap(img);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        }
    }

    private void uploadImage(byte[] bytes) {
        //ì¹´ë©”ë¼ì™€ ê°¤ëŸ¬ë¦¬ì—ì„œ ê°€ì ¸ì˜¤ê¸° ì„±ê³µ ì‹œ ì´ë¯¸ì§€ë·°ì— ë„£ê¸°
        progressBar.setVisibility(View.VISIBLE);
        PetStorage.uploadPetImage(bytes, onProgress -> {
            double value = (100.0 * onProgress.getBytesTransferred()) / onProgress.getTotalByteCount();
            int progress = (int) Math.round(value);
            progressBar.setProgress(progress);
        }, onSuccess -> {
            Toast.makeText(this, "ì´ë¯¸ì§€ ë“±ë¡ ì„±ê³µ", Toast.LENGTH_SHORT).show();
            progressBar.setVisibility(View.GONE);
        }, onFailure -> {
            Toast.makeText(this, "ì´ë¯¸ì§€ ë“±ë¡ ì‹¤íŒ¨", Toast.LENGTH_SHORT).show();
            progressBar.setVisibility(View.GONE);
        });
    }

PetStorage í•¨ìˆ˜ - ë™ë¬¼ ì‚¬ì§„ íŒŒì´ì–´ë² ì´ìŠ¤ ì €ì¥

    public class PetStorage {
    //íŒŒì´ì–´ë² ì´ìŠ¤ ìŠ¤í† ë¦¬ì§€ì— ì´ë¯¸ì§€ ì €ì¥
    private static final String TAG = "PetStorage";

    public static void uploadPetImage(byte[] data,
                                      OnProgressListener<UploadTask.TaskSnapshot> onProgressListener,
                                      OnSuccessListener<UploadTask.TaskSnapshot> onSuccessListener,
                                      OnFailureListener onFailureListener) {
        String uid = getCurrentUserUid();
        if (uid == null) {
            return;
        }

        StorageReference petImage = getStorageReference(uid);

        // async ë¹„ë™ê¸°ì ìœ¼ë¡œ
        UploadTask uploadTask = petImage.putBytes(data);
        uploadTask.addOnProgressListener(onProgressListener)
                .addOnSuccessListener(onSuccessListener)
                .addOnFailureListener(onFailureListener);
    }

    public static void getPetImageUrl(OnSuccessListener<Uri> onSuccessListener, OnFailureListener onFailureListener) {
        //ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸° ì„±ê³µ ì‹œ íŒŒì´ì—ë² ì´ìŠ¤ ìŠ¤í† ë¦¬ì§€ì— ì˜¬ë¦¬ê¸°, ì‹¤íŒ¨ì‹œ ê¸°ë³¸ ì´ë¯¸ì§€
        String uid = getCurrentUserUid();
        if (uid == null) {
            return;
        }

        StorageReference petImage = getStorageReference(uid);
        // async ë¹„ë™ê¸°
        petImage.getDownloadUrl()
                .addOnSuccessListener(onSuccessListener)
                .addOnFailureListener(onFailureListener);
    }

    private static StorageReference getStorageReference(String uid) {
        //ê°€ì ¸ì˜¨ ì´ë¯¸ì§€ urlë¡œ ë°”ê¿”ì¤Œ.
        final FirebaseStorage storage = FirebaseStorage.getInstance();
        //storageRef -> gs://project-pet-ba709.appspot.com/
        final StorageReference storageRef = storage.getReference();

        // userFolder -> gs://project-pet-ba709.appspot.com/uid/
        StorageReference userFolder = storageRef.child(uid);

        // return -> gs://project-pet-ba709.appspot.com/uid/petImage
        return userFolder.child("petImage");
    }

    @Nullable
    private static String getCurrentUserUid() {
        //íŒŒì´ì–´ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì id ì•„ì´ë”” ê°€ì ¸ì˜¤ê¸°
        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
        if (user == null) {
            return null;
        }

        return user.getUid();
    }
    }
    
 Pet_Main.java ì— ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
 
      private void postPetImage() {
        //ì„±ê³µì‹œ ì €ì¥ëœ ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
        PetStorage.getPetImageUrl(uri -> {
            // ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ Glideë¥¼ ì‚¬ìš©í•´ì„œ Firebase PetStorageì˜ ì´ë¯¸ì§€ ë¡œë”©
            Glide.with(this)
                    .load(uri)
                    .addListener(getRequestListener())
                    .into(petImage);
        }, exception -> {
            petImage.setImageDrawable(ResourcesCompat.getDrawable(this.getResources(), R.drawable.dog, this.getTheme()));
            progressBar.setVisibility(View.GONE);
        });
    }
### 2-3-2 ë™ë¬¼ ì •ë³´ ì €ì¥
ë™ë¬¼ ì •ë³´ ì €ì¥ ì™„ë£Œí›„ ë©”ì¸ìœ¼ë¡œ ì™”ì„ë•Œ ë“±ë¡í•œ ë™ë¬¼ì˜ ì´ë¯¸ì§€ê°€ ëœ¬ë‹¤ë©´ ë™ë¬¼ ë“±ë¡ì— ì„±ê³µí•˜ì˜€ë‹¤. ë™ë¬¼ì˜ ì´ë¯¸ì§€ì™€ í•¨ê»˜ ì•„ë˜ì—ëŠ” ë™ë¬¼ì˜ ê±´ê°•, ë°¥, ì‚°ì±…, ê°„ì‹ì˜ ì •ë³´ë¥¼ ë“±ë¡í•  ìˆ˜ ìˆëŠ” íŠ¼ì´ ëœ¨ê³  ì´ë¥¼ í†µí•´ ì •ë³´ë¥¼ ì‘ì„±í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ë¡œ ì´ë™í•  ìˆ˜ ìˆë‹¤.




